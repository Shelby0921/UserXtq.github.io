<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>谢天启</title>
  
  <subtitle>实现梦想</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-02-06T11:15:35.718Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>谢天启</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于Springboot使用阿里云短信服务</title>
    <link href="http://yoursite.com/2019/02/06/%E5%85%B3%E4%BA%8ESpringboot%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1/"/>
    <id>http://yoursite.com/2019/02/06/关于Springboot使用阿里云短信服务/</id>
    <published>2019-02-06T07:09:15.000Z</published>
    <updated>2019-02-06T11:15:35.718Z</updated>
    
    <content type="html"><![CDATA[<h6 id="你好，本人谢天启-对于万年不更新的我，终于有勇气更新了！对于该教程前提得先有个阿里云账号，并且开通了短信服务，同时创建模板通过审核-不懂没关系上度娘！！！废话不多说，接着我们直接进入正题-首先我们先引入阿里云的短信服务的SDK-注意：本人使用的SpringBoot版本为1-5-18"><a href="#你好，本人谢天启-对于万年不更新的我，终于有勇气更新了！对于该教程前提得先有个阿里云账号，并且开通了短信服务，同时创建模板通过审核-不懂没关系上度娘！！！废话不多说，接着我们直接进入正题-首先我们先引入阿里云的短信服务的SDK-注意：本人使用的SpringBoot版本为1-5-18" class="headerlink" title="你好，本人谢天启!对于万年不更新的我，终于有勇气更新了！对于该教程前提得先有个阿里云账号，并且开通了短信服务，同时创建模板通过审核,不懂没关系上度娘！！！废话不多说，接着我们直接进入正题,首先我们先引入阿里云的短信服务的SDK(注意：本人使用的SpringBoot版本为1.5.18)"></a>你好，本人谢天启!对于万年不更新的我，终于有勇气更新了！<br>对于该教程前提得先有个阿里云账号，并且开通了短信服务，同时创建模板通过审核,不懂没关系<strong><em>上度娘</em></strong>！！！<br>废话不多说，接着我们直接进入正题,首先我们先引入阿里云的短信服务的SDK<br>(<em>注意：本人使用的SpringBoot版本为1.5.18</em>)</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;4.0.6&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;1.1.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h5 id="接着我们来做第二件事编写一个关于短信服务的配置类"><a href="#接着我们来做第二件事编写一个关于短信服务的配置类" class="headerlink" title="接着我们来做第二件事编写一个关于短信服务的配置类"></a>接着我们来做第二件事编写一个关于短信服务的配置类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class StaticPeram &#123;</span><br><span class="line">// 设置超时时间-可自行调整</span><br><span class="line">final static String defaultConnectTimeout  = &quot;sun.net.client.defaultConnectTimeout&quot;;</span><br><span class="line">final static String defaultReadTimeout = &quot;sun.net.client.defaultReadTimeout&quot;;</span><br><span class="line">final static String Timeout = &quot;10000&quot;;</span><br><span class="line">// 初始化ascClient需要的几个参数</span><br><span class="line">final static String product = &quot;Dysmsapi&quot;;// 短信API产品名称（短信产品名固定，无需修改）</span><br><span class="line">final static String domain = &quot;dysmsapi.aliyuncs.com&quot;;// 短信API产品域名（接口地址固定，无需修改）</span><br><span class="line">// 替换成你的AK (产品密)</span><br><span class="line">final static String accessKeyId = &quot;LTAINuDTqeMwD09h&quot;;// 你的accessKeyId,填你自己的 上文配置所得  自行配置</span><br><span class="line">final static String accessKeySecret = &quot;2cCKQm2NFTytpISgmdwbuTORjjCNT7&quot;;// 你的accessKeySecret,填你自己的 上文配置所得 自行配置</span><br><span class="line">// 必填:短信签名-可在短信控制台中找到</span><br><span class="line">final static String SignName = &quot;谢天启&quot;;  // 阿里云配置你自己的短信签名填入</span><br><span class="line">// 必填:短信模板-可在短信控制台中找到</span><br><span class="line">// 阿里云配置你自己的短信模板填入</span><br><span class="line">final static String TemplateCode_inset = &quot;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="接着编写测试类以及运行配置类"><a href="#接着编写测试类以及运行配置类" class="headerlink" title="接着编写测试类以及运行配置类"></a>接着编写测试类以及运行配置类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">import com.aliyuncs.DefaultAcsClient;</span><br><span class="line">import com.aliyuncs.IAcsClient;</span><br><span class="line">import com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;</span><br><span class="line">import com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;</span><br><span class="line">import com.aliyuncs.exceptions.ClientException;</span><br><span class="line">import com.aliyuncs.exceptions.ServerException;</span><br><span class="line">import com.aliyuncs.http.MethodType;</span><br><span class="line">import com.aliyuncs.profile.DefaultProfile;</span><br><span class="line">import com.aliyuncs.profile.IClientProfile;</span><br><span class="line"></span><br><span class="line">public class PhoneCode &#123;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">String phone = &quot;&quot;; // 此处可输入你的手机号码进行测试</span><br><span class="line">getPhonemsg(phone, vcode());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 阿里云短信服务配置</span><br><span class="line"> * </span><br><span class="line"> * @param mobile</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">private static String getPhonemsg(String mobile, String code) &#123;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 进行正则关系校验</span><br><span class="line"> */</span><br><span class="line">System.out.println(mobile);</span><br><span class="line">if (mobile == null || mobile == &quot;&quot;) &#123;</span><br><span class="line">System.out.println(&quot;手机号为空&quot;);</span><br><span class="line">return &quot;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line"> * 短信验证---阿里大于工具</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">// 设置超时时间-可自行调整</span><br><span class="line">System.setProperty(StaticPeram.defaultConnectTimeout, StaticPeram.Timeout);</span><br><span class="line">System.setProperty(StaticPeram.defaultReadTimeout, StaticPeram.Timeout);</span><br><span class="line">// 初始化ascClient需要的几个参数</span><br><span class="line">final String product = StaticPeram.product;// 短信API产品名称（短信产品名固定，无需修改）</span><br><span class="line">final String domain = StaticPeram.domain;// 短信API产品域名（接口地址固定，无需修改）</span><br><span class="line">// 替换成你的AK</span><br><span class="line">final String accessKeyId = StaticPeram.accessKeyId;// 你的accessKeyId,参考本文档步骤2</span><br><span class="line">final String accessKeySecret = StaticPeram.accessKeySecret;// 你的accessKeySecret，参考本文档步骤2</span><br><span class="line">// 初始化ascClient,暂时不支持多region</span><br><span class="line">IClientProfile profile = DefaultProfile.getProfile(&quot;cn-hangzhou&quot;, accessKeyId, accessKeySecret);</span><br><span class="line">try &#123;</span><br><span class="line">DefaultProfile.addEndpoint(&quot;cn-hangzhou&quot;, &quot;cn-hangzhou&quot;, product, domain);</span><br><span class="line">&#125; catch (ClientException e1) &#123;</span><br><span class="line">e1.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IAcsClient acsClient = new DefaultAcsClient(profile);</span><br><span class="line">// 组装请求对象</span><br><span class="line">SendSmsRequest request = new SendSmsRequest();</span><br><span class="line">// 使用post提交</span><br><span class="line">request.setMethod(MethodType.POST);</span><br><span class="line">// 必填:待发送手机号。支持以逗号分隔的形式进行批量调用，批量上限为1000个手机号码,批量调用相对于单条调用及时性稍有延迟,验证码类型的短信推荐使用单条调用的方式</span><br><span class="line">request.setPhoneNumbers(mobile);</span><br><span class="line">// 必填:短信签名-可在短信控制台中找到</span><br><span class="line">request.setSignName(StaticPeram.SignName);</span><br><span class="line">// 必填:短信模板-可在短信控制台中找到</span><br><span class="line">request.setTemplateCode(StaticPeram.TemplateCode);</span><br><span class="line">// 可选:模板中的变量替换JSON串,如模板内容为&quot;亲爱的$&#123;name&#125;,您的验证码为$&#123;code&#125;&quot;时,此处的值为</span><br><span class="line">// 友情提示:如果JSON中需要带换行符,请参照标准的JSON协议对换行符的要求,比如短信内容中包含\r\n的情况在JSON中需要表示成\\r\\n,否则会导致JSON在服务端解析失败</span><br><span class="line">request.setTemplateParam(&quot;&#123;\&quot;code\&quot;:\&quot;&quot; + code + &quot;\&quot;&#125;&quot;);</span><br><span class="line">// 可选-上行短信扩展码(无特殊需求用户请忽略此字段)</span><br><span class="line">// request.setSmsUpExtendCode(&quot;90997&quot;);</span><br><span class="line">// 可选:outId为提供给业务方扩展字段,最终在短信回执消息中将此值带回给调用者</span><br><span class="line">// request.setOutId(&quot;yourOutId&quot;);</span><br><span class="line">// 请求失败这里会抛ClientException异常</span><br><span class="line">SendSmsResponse sendSmsResponse;</span><br><span class="line">try &#123;</span><br><span class="line">sendSmsResponse = acsClient.getAcsResponse(request);</span><br><span class="line">if (sendSmsResponse.getCode() != null &amp;&amp; sendSmsResponse.getCode().equals(&quot;OK&quot;)) &#123;</span><br><span class="line">// 请求成功</span><br><span class="line">System.out.println(&quot;获取验证码成功！！！&quot;);</span><br><span class="line">return &quot;true&quot;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">// 如果验证码出错，会输出错误码告诉你具体原因</span><br><span class="line">System.out.println(sendSmsResponse.getCode());</span><br><span class="line">System.out.println(&quot;获取验证码失败...&quot;);</span><br><span class="line">return &quot;false&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125; catch (ServerException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">return &quot;由于系统维护，暂时无法注册！！！&quot;;</span><br><span class="line">&#125; catch (ClientException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">return &quot;由于系统维护，暂时无法注册！！！&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 生成6位随机数验证码</span><br><span class="line"> * </span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">public static String vcode() &#123;</span><br><span class="line">String vcode = &quot;&quot;;</span><br><span class="line">for (int i = 0; i &lt; 6; i++) &#123;</span><br><span class="line">vcode = vcode + (int) (Math.random() * 9);</span><br><span class="line">&#125;</span><br><span class="line">return vcode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="对于该教程我不认为我是最好的，但是我觉得自己用的比较合适。如果你觉得你有更好的方法，也可评论！谢谢！！！"><a href="#对于该教程我不认为我是最好的，但是我觉得自己用的比较合适。如果你觉得你有更好的方法，也可评论！谢谢！！！" class="headerlink" title="对于该教程我不认为我是最好的，但是我觉得自己用的比较合适。如果你觉得你有更好的方法，也可评论！谢谢！！！"></a>对于该教程我不认为我是最好的，但是我觉得自己用的比较合适。<br>如果你觉得你有更好的方法，也可评论！谢谢！！！</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h6 id=&quot;你好，本人谢天启-对于万年不更新的我，终于有勇气更新了！对于该教程前提得先有个阿里云账号，并且开通了短信服务，同时创建模板通过审核-不懂没关系上度娘！！！废话不多说，接着我们直接进入正题-首先我们先引入阿里云的短信服务的SDK-注意：本人使用的SpringBoot
      
    
    </summary>
    
      <category term="阿里云" scheme="http://yoursite.com/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    
      <category term="短信服务" scheme="http://yoursite.com/tags/%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>第一篇文章</title>
    <link href="http://yoursite.com/2019/01/01/%E7%AC%AC%E4%B8%80%E7%AF%87hexo%E6%96%87%E7%AB%A0/"/>
    <id>http://yoursite.com/2019/01/01/第一篇hexo文章/</id>
    <published>2018-12-31T16:00:00.000Z</published>
    <updated>2019-01-01T09:31:11.606Z</updated>
    
    <content type="html"><![CDATA[<center>这是我的第一篇hexo文章。<br><br>本人小白得到大佬指导与认可，谢谢！<br><br>如果道是完美的，那么操作系统就是完美的；<br><br>如果操作系统是完美的，那么编译器就是完美的；<br><br>如果编译嚣是完美的，那么应用程序就是完美的；<br><br>所以用户心满意足，整个世界因此和谐。</center><p><hr></p><center>本人小白一个，望各位大佬给予支持和指导，谢谢！</center>]]></content>
    
    <summary type="html">
    
      
      
        &lt;center&gt;这是我的第一篇hexo文章。&lt;br&gt;&lt;br&gt;本人小白得到大佬指导与认可，谢谢！&lt;br&gt;&lt;br&gt;如果道是完美的，那么操作系统就是完美的；&lt;br&gt;&lt;br&gt;如果操作系统是完美的，那么编译器就是完美的；&lt;br&gt;&lt;br&gt;如果编译嚣是完美的，那么应用程序就是完美的；&lt;br&gt;&lt;
      
    
    </summary>
    
    
  </entry>
  
</feed>
